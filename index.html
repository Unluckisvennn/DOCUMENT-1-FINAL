<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>DOCUMENT 1</title>
<style>
html, body { margin:0; padding:0; width:100%; height:100%; font-family:sans-serif; background:#000; color:white; overflow:hidden; }
.page { width:100%; height:100%; display:none; justify-content:center; align-items:center; flex-direction:column; text-align:center; position:absolute; top:0; left:0; }
.page.active { display:flex; }
img { width:90%; max-width:400px; border-radius:16px; cursor:pointer; margin-bottom:20px; }
button { padding:12px 25px; font-size:18px; border:none; border-radius:10px; cursor:pointer; background:#b00000; color:white; margin-top:20px; }
audio { width:90%; max-width:400px; margin-top:20px; display:block; }
video { width:90%; max-width:800px; max-height:90%; object-fit:contain; }
</style>
</head>
<body>

<!-- Page Cover -->
<div id="coverPage" class="page active">
  <img id="cover" src="cover.jpg" alt="Cover Album DOCUMENT 1">
  <div>Appuyer pour rentrer dans DOCUMENT 1</div>
</div>

<!-- Page Tracklist -->
<div id="tracklistPage" class="page">
  <img src="tracklist.jpg" alt="Tracklist">
  <button id="nextTracklist">Suivant</button>
</div>

<!-- Pages Tracks -->
<div id="track1Page" class="page">
  <h2>Track 1 â€” DOCUMENT 1</h2>
  <audio id="audio1" src="track1.mp3" controls></audio>
  <div>
    <button id="pause1">Pause/Play</button>
    <button id="next1" style="display:none;">Suivant</button>
  </div>
</div>
<div id="track2Page" class="page">
  <h2>Track 2 â€” DOCUMENT 2 <span style="color:red;">Feat O'G</span></h2>
  <audio id="audio2" src="track2.mp3" controls></audio>
  <div>
    <button id="pause2">Pause/Play</button>
    <button id="next2" style="display:none;">Suivant</button>
  </div>
</div>
<div id="track3Page" class="page">
  <h2>Track 3 â€” PREPA <span style="color:red;">Feat LUSHOW</span></h2>
  <audio id="audio3" src="track3.mp3" controls></audio>
  <div>
    <button id="pause3">Pause/Play</button>
    <button id="next3" style="display:none;">Suivant</button>
  </div>
</div>
<div id="track4Page" class="page">
  <h2>Track 4 â€” ANNEXE</h2>
  <audio id="audio4" src="track4.mp3" controls></audio>
  <div>
    <button id="pause4">Pause/Play</button>
    <button id="unlockVideo" style="display:none;">DÃ©bloquer la surprise ðŸŽ¬</button>
  </div>
</div>

<!-- Page VidÃ©o -->
<div id="videoPage" class="page">
  <video id="finalVideo" controls playsinline></video>
  <button id="nextAfterVideo" style="display:none;">Suivant</button>
</div>

<!-- Page Fin DOCUMENT 2 -->
<div id="doc2Page" class="page">
  <img src="cover2.jpg" alt="DOCUMENT 2 Cover">
  <h2>ON SE RETROUVE DANS DOCUMENT 2</h2>
  <button id="backButton" style="display:none;">Retour</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', ()=>{
  function showPage(id){ document.querySelectorAll('.page').forEach(p=>p.classList.remove('active')); document.getElementById(id).classList.add('active'); }

  let firstPlayCompleted=false;

  // Cover -> Tracklist
  document.getElementById('cover').addEventListener('click',()=>{ showPage('tracklistPage'); });

  // Tracklist -> Track1
  document.getElementById('nextTracklist').addEventListener('click',()=>{ showPage('track1Page'); document.getElementById('audio1').play(); });

  // Fonction pour gÃ©rer la fin de chaque track
  function setupTrack(audioId, nextBtnId){
    const audio=document.getElementById(audioId);
    const nextBtn=document.getElementById(nextBtnId);
    const pauseBtn=document.getElementById('pause'+audioId.slice(-1));

    audio.addEventListener('ended',()=>{ nextBtn.style.display='inline-block'; });

    pauseBtn.addEventListener('click',()=>{ if(audio.paused) audio.play(); else audio.pause(); });

    nextBtn.addEventListener('click',()=>{
      audio.pause();
      const nextPage='track'+(parseInt(audioId.slice(-1))+1)+'Page';
      if(nextPage==='track5Page'){ // AprÃ¨s track4
        document.getElementById('unlockVideo').style.display='inline-block';
      } else {
        showPage(nextPage);
        document.getElementById('audio'+(parseInt(audioId.slice(-1))+1)).play();
      }
    });
  }

  setupTrack('audio1','next1');
  setupTrack('audio2','next2');
  setupTrack('audio3','next3');
  setupTrack('audio4','unlockVideo');

  // VidÃ©o
  const finalVideo=document.getElementById('finalVideo');
  document.getElementById('unlockVideo').addEventListener('click',()=>{
    showPage('videoPage');
    finalVideo.src='final-video.mp4';
    finalVideo.play();
  });
  finalVideo.addEventListener('ended',()=>{ document.getElementById('nextAfterVideo').style.display='inline-block'; firstPlayCompleted=true; });
  document.getElementById('nextAfterVideo').addEventListener('click',()=>{ showPage('doc2Page'); document.getElementById('backButton').style.display='inline-block'; });

  // Retour page DOCUMENT 2
  document.getElementById('backButton').addEventListener('click',()=>{ if(firstPlayCompleted) showPage('tracklistPage'); });
});
</script>

</body>
</html>
